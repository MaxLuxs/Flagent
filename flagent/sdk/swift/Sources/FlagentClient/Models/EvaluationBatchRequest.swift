//
// EvaluationBatchRequest.swift
//
// Generated by openapi-generator
// https://openapi-generator.tech
//

import Foundation
#if canImport(AnyCodable)
import AnyCodable
#endif

internal struct EvaluationBatchRequest: Codable, JSONEncodable, Hashable {

    internal enum FlagTagsOperator: String, Codable, CaseIterable {
        case any = "ANY"
        case all = "ALL"
    }
    internal static let entitiesRule = ArrayRule(minItems: 1, maxItems: nil, uniqueItems: false)
    internal var entities: [EvaluationEntity]
    internal var enableDebug: Bool? = false
    /** FlagIDs. Either flagIDs, flagKeys or flagTags works. If pass in multiples, Flagent may return duplicate results. */
    internal var flagIDs: [Int]?
    /** FlagKeys. Either flagIDs, flagKeys or flagTags works. If pass in multiples, Flagent may return duplicate results. */
    internal var flagKeys: [String]?
    /** FlagTags. Either flagIDs, flagKeys or flagTags works. If pass in multiples, Flagent may return duplicate results. */
    internal var flagTags: [String]?
    /** Determine how flagTags is used to filter flags to be evaluated. */
    internal var flagTagsOperator: FlagTagsOperator? = .any

    internal init(entities: [EvaluationEntity], enableDebug: Bool? = false, flagIDs: [Int]? = nil, flagKeys: [String]? = nil, flagTags: [String]? = nil, flagTagsOperator: FlagTagsOperator? = .any) {
        self.entities = entities
        self.enableDebug = enableDebug
        self.flagIDs = flagIDs
        self.flagKeys = flagKeys
        self.flagTags = flagTags
        self.flagTagsOperator = flagTagsOperator
    }

    internal enum CodingKeys: String, CodingKey, CaseIterable {
        case entities
        case enableDebug
        case flagIDs
        case flagKeys
        case flagTags
        case flagTagsOperator
    }

    // Encodable protocol methods

    internal func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: CodingKeys.self)
        try container.encode(entities, forKey: .entities)
        try container.encodeIfPresent(enableDebug, forKey: .enableDebug)
        try container.encodeIfPresent(flagIDs, forKey: .flagIDs)
        try container.encodeIfPresent(flagKeys, forKey: .flagKeys)
        try container.encodeIfPresent(flagTags, forKey: .flagTags)
        try container.encodeIfPresent(flagTagsOperator, forKey: .flagTagsOperator)
    }
}

